% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ggplot_bar_vts.R
\name{ggplot_bar_vts}
\alias{ggplot_bar_vts}
\title{Stacked bar plot with variable bar width}
\usage{
ggplot_bar_vts(data, mapping = aes_string(x = "period", y = "value", fill
  = "variable"), ts = NULL, gaps = 0.1)
}
\arguments{
\item{data}{a data frame}

\item{mapping}{\code{aes()} mapping with aesthetics \code{x}, \code{y}, and
\code{fill}}

\item{ts}{data frame linking periods to time steps widths and positons;
defaults to REMIND values}

\item{gaps}{gaps between bars as a fraction of the lowest bar width;
defaults 0.1 (* 5 years = 0.5 years)}
}
\value{
a \code{ggplot()} like object
}
\description{
\code{ggplot_bar_vts()} creates a bar plot with variable bar widths and is
intended for plotting time series with variable time-step width.
}
\details{
If \code{ts} is \code{NULL}, values for the use with REMIND data are
         used. If other values are needed, pass a data frame with the columns
         period (coinciding with the column assigned to the x aesthetic in
         \code{data}), .ts (containing the desired width of the bars), and
         .positon (containing the center point of the bars).
         Use further \code{ggplot2} functions like scales, themes and facets
         as usual. Automatically splits positive and negative values for
         plotting above and below zero bars.
}
\section{Example Plot}{

\if{html}{\figure{ggplot_bar_vts.png}{example plot}}
}

\examples{
\dontrun{
require(dplyr)
require(tidyr)
require(ggplot2)
data.frame(period = c(seq(2005, 2060, by = 5), seq(2070, 2100, by = 10))) \%>\%
    mutate(linear = (period - 2005) / 10,
           logarithmic = log10(period - 2000),
           negative = -(logarithmic / (linear + 1))) \%>\%
    gather(variable, value, -period) \%>\%
    ggplot_bar_vts()
}

}
\author{
Michaja Pehl
}
